# 文章管理后台使用指南

## 🚀 快速开始

### 1. 安装依赖
```bash
pip install -r requirements_admin.txt
```

### 2. 启动管理后台
```bash
python3 start_admin.py
```

### 3. 访问管理界面
浏览器会自动打开 `http://localhost:5000`

## 📝 功能说明

### 添加文章
1. 在"添加新文章"区域输入微信公众号文章链接
2. 可选择自定义标题和标签
3. 点击"开始抓取文章"按钮
4. 系统会自动抓取文章内容、图片和元数据
5. 抓取完成后自动添加到网站并同步到Git

### 管理文章
- **查看文章**: 点击"查看"按钮在新标签页打开文章
- **删除文章**: 点击"删除"按钮移除文章
- **搜索文章**: 在搜索框输入关键词过滤文章
- **刷新列表**: 点击"刷新文章列表"更新数据

### 系统操作
- **同步到Git**: 将所有更改推送到Git仓库
- **清除缓存**: 清除系统缓存
- **查看统计**: 显示文章总数、今日新增、图片总数等

## 🔧 技术特性

### 前端界面
- 响应式设计，支持各种屏幕尺寸
- 实时状态反馈和错误提示
- 直观的文章管理界面
- 统计信息展示

### 后端API
- RESTful API设计
- 自动文章抓取和图片下载
- Git自动同步
- 错误处理和日志记录

### 安全特性
- 输入验证和URL检查
- 错误处理和异常捕获
- 文件路径安全检查

## 📁 文件结构

```
├── admin.html              # 管理后台前端界面
├── server.py               # Flask API服务器
├── start_admin.py          # 启动脚本
├── requirements_admin.txt  # 依赖包列表
├── crawler.py              # 文章抓取模块
└── posts/articles.json     # 文章数据文件
```

## 🛠️ 自定义配置

### 修改端口
在 `server.py` 中修改：
```python
app.run(host='0.0.0.0', port=5000, debug=True)
```

### 修改文章存储路径
在 `server.py` 中修改：
```python
ARTICLES_FILE = 'posts/articles.json'
IMAGES_DIR = 'images'
```

## ❓ 常见问题

### Q: 抓取失败怎么办？
A: 检查网络连接和文章链接是否正确，确保链接是有效的微信公众号文章。

### Q: 图片无法显示？
A: 检查图片下载是否成功，确保images目录有写入权限。

### Q: Git同步失败？
A: 检查Git配置和网络连接，确保有推送权限。

### Q: 如何备份数据？
A: 文章数据存储在 `posts/articles.json`，图片存储在 `images/` 目录，定期备份这些文件即可。

## 🔄 更新日志

- v1.0.0: 初始版本，支持基本的文章抓取和管理功能
- 支持微信公众号文章自动抓取
- 支持图片自动下载和本地存储
- 支持Git自动同步
- 支持文章搜索和过滤
- 支持统计信息展示

## 📞 技术支持

如有问题，请检查：
1. Python版本是否兼容（推荐3.7+）
2. 依赖包是否正确安装
3. 网络连接是否正常
4. 文件权限是否正确
